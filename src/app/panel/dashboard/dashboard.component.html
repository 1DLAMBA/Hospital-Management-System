<p-toast  [breakpoints]="{'920px': {width: '100%', right: '0', left: '0'}}"></p-toast>
<p-dialog 
header="Edit Profile" 
[modal]="true"
[(visible)]="visible" 
[style]="{ width: '25rem' }">
    <span class="p-text-secondary block mb-5">
        Update your information.
    </span>
    
    <div class="flex justify-content-end gap-2">
        <p-button label="Cancel" severity="secondary" (onClick)="visible = false" />
        <p-button label="Save" (onClick)="visible = false" />
    </div>
</p-dialog>
<div class=" holder">

    <app-side-nav></app-side-nav> 

    <!-- MAIN PANEL -->
    <div class="header">
        <div class="d-flex   d-ovr justify-content-between p-3">
            <h4>Dashboard Overview</h4>
            <div class="d-flex">
                <div class="passport">
                    <img  src="{{ avatar_file + user?.passport }}">
                </div>
                <div>

                    <p><b>{{user.name}}</b></p>
                    <div class="d-flex gap-5">
                        <small>{{user.user_type}}</small>
                        <div class="d-flex ">
                            <button style="border: 0; background-color: white;" *ngIf="newNotificationBatch" (click)="notificationBadge()" pBadge>
                                <i class="bi bi-bell text-3xl"></i>
                              </button>
                              <button style="border: 0; background-color: white;" *ngIf="!newNotificationBatch" (click)="notificationBadge()">
                                <i class="bi bi-bell text-3xl"></i>
                              </button>
                    </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="d-flex mob-head  justify-content-between p-1">
            <button (onClick)="showDialog()" class="navi d-flex p-2">
                
                <p class="m-1 fw-bold bi bi-activity" style="font-size:xx-large;"></p>
                <p class="m-auto" style="font-size: smaller;"  ><b>{{user.name}}</b></p>

            </button>
            <div class="d-flex">
                <div class="passport">
                    <img  src="{{ avatar_file + user.passport }}">
                </div>
                
            </div>
        </div>
        
        <router-outlet></router-outlet>
    </div>   
    <!-- ADD NG IF HERE TO CHECK USER TYPE BEFORE RENDERING MOBILE NAV -->
    <div *ngIf="user.user_type=='doctor'" class="mob-nav">
        <a routerLinkActive="active"  [routerLinkActiveOptions]={exact:true}  class="bi bi-columns-gap" routerLink="doctor-panel">
            
        </a>
        <a routerLinkActive="active"  class="bi bi-prescription2" routerLink="doctor-appointment">

        </a>
        <a routerLinkActive="active"  class=" bi bi-heart-pulse-fill" routerLink="nurses">

        </a>
        <a routerLinkActive="active"  class="bi bi-chat-right-text-fill" routerLink="messages">

        </a>
        <a routerLinkActive="active"  class="bi bi-robot" routerLink="medical-ai">
            <span>AI</span>
        </a>
    </div>
    <div *ngIf="user.user_type=='nurse'" class="mob-nav">
        <a routerLinkActive="active"  [routerLinkActiveOptions]={exact:true}  class="bi bi-columns-gap" routerLink="nurse-panel">
            
        </a>
        <a routerLinkActive="active"  class="bi bi-prescription2" routerLink="assignment">

        </a>
    
        <a routerLinkActive="active"  class="bi bi-chat-right-text-fill" routerLink="messages">

        </a>
        <a routerLinkActive="active"  class="bi bi-robot" routerLink="medical-ai">
            <span>AI</span>
        </a>
    </div>
    <div *ngIf="user.user_type=='client'" class="mob-nav">
        <a routerLinkActive="active"  [routerLinkActiveOptions]={exact:true}  class="bi bi-columns-gap" routerLink="client-panel">
            
        </a>
        <a routerLinkActive="active"  class="bi bi-prescription2" routerLink="client-appointment">

        </a>
        <a routerLinkActive="active"  class=" bi bi-heart-pulse-fill" routerLink="nurses">

        </a>
        <a routerLinkActive="active"  class="bi bi-chat-right-text-fill" routerLink="messages">

        </a>
        <a routerLinkActive="active"  class="bi bi-robot" routerLink="medical-ai">
            <span>AI</span>
        </a>
    </div>
</div>
