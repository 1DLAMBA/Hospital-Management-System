<p-dialog header="Appointment Details" [(visible)]="apptDetails" [modal]="true"
        [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [style]="{ width: '60vw', display: 'flex'}"
        [draggable]="false" [resizable]="false">
<div class="d-flex" *ngIf="singleAppt">
<div class="m-auto">
    <p>{{singleAppt.client.user.name}}</p>
</div>
</div>

    </p-dialog>
<section>

    <p-table
    #dt1
    [value]="appointment"
    dataKey="id"
    [rows]="10"
    [rowsPerPageOptions]="[10, 25, 50]"
    [paginator]="true"
    [globalFilterFields]="['doctor.user.name', 'doctors.specialization', 'representative.name', 'status']"
    >
    
    
    <ng-template pTemplate="caption">
    <div class="flex">
        <p-button pRipple label="Clear" [outlined]="true" icon="pi pi-filter-slash" (click)="clear(dt1)" />
        <span class="p-input-icon-left ml-auto">
            <i class="pi pi-search"></i>
            <input pInputText type="text" [(ngModel)]="searchValue" (input)="dt1.filterGlobal($event.target?.addEventListener, 'contains')" placeholder="Search keyword" />
        </span>
    </div>
    </ng-template>
    <ng-template pTemplate="header">
    <tr>
        <th style="min-width:7rem">
            <div class="flex align-items-center">
                View
                <!-- <p-columnFilter type="text" field="name" display="menu" /> -->
            </div>
        </th>
        <th style="min-width:15rem">
            <div class="flex align-items-center">
                Client Name
                <p-columnFilter type="text" field="name" display="menu" />
            </div>
        </th>
        <th style="min-width:10rem">
            <div class="flex align-items-center">
                Date and Time
                <p-columnFilter type="text" field="country.name" display="menu" />
            </div>
        </th>
        <th style="min-width:5rem">
            <div class="flex align-items-center">
                Status
                <!-- <p-columnFilter field="representative" matchMode="in" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false">
                    <ng-template pTemplate="header">
                        <div class="px-3 pt-3 pb-0">
                            <span class="font-bold">Agent Picker</span>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                        <p-multiSelect [(ngModel)]="value" [options]="representatives" placeholder="Any" (onChange)="filter($event.value)" optionLabel="name">
                            <ng-template let-option pTemplate="item">
                                <div class="inline-block vertical-align-middle">
                                    <img [alt]="option.label" src="https://primefaces.org/cdn/primeng/images/demo/avatar/{{ option.image }}" width="24" class="vertical-align-middle" />
                                    <span class="ml-1 mt-1">{{ option.name }}</span>
                                </div>
                            </ng-template>
                        </p-multiSelect>
                    </ng-template>
                </p-columnFilter> -->
            </div>
        </th>
        <th style="min-width:10rem">
            <div class="flex align-items-center">
                Phone Number
                <p-columnFilter type="date" field="date" display="menu" />
            </div>
        </th>
        
    </tr>
    </ng-template>
    <ng-template pTemplate="body" let-appointments>
    <tr >
        <td>
        <p-button label="View" severity="info" [raised]="true"  [rounded]="true" (click)="viewAppt(appointments.id)" />
        </td>
        <td class="d-flex">
            <div class="passport">
                <img  src="{{ avatar_file + appointments.client.user.passport }}">
            </div>
            {{ appointments.client.user.name}}
        </td>
        <td>
            <!-- <img src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png" [class]="'flag flag-' + doctors.country.code" style="width: 20px" /> -->
            <span class="ml-1 vertical-align-middle">{{appointments.date_time }}</span>
        </td>
        <td>
            <!-- <img [alt]="doctors.representative.name" src="https://primefaces.org/cdn/primeng/images/demo/avatar/{{ doctors.representative.image }}" width="32" style="vertical-align: middle" /> -->
            <!-- <span *ngIf="!doctor.availability">Unavailable</span> -->
            <span class="ml-1 vertical-align-middle">{{ appointments.status }}</span>
        </td>
        <td>
            {{ appointments.client.user.phoneno}}
        </td>
       
       
    </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
    <tr>
        <td colspan="7">No doctors found.</td>
    </tr>
    </ng-template>
    
    
    </p-table>
</section>